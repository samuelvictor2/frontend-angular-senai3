<h2>Nova Venda</h2>

<form (ngSubmit)="criarVenda()">

  <label>Cliente:</label>
  <select [(ngModel)]="venda.cliente" name="cliente" required>
    <option *ngFor="let c of clientes" [ngValue]="c">{{ c.cliNome }}</option>
  </select>

  <label>Forma de Pagamento:</label>
  <select [(ngModel)]="venda.formaPagamento" name="formaPagamento" required>
    <option *ngFor="let f of formasPagamento" [ngValue]="f">{{ f.fpgDescricao }}</option>
  </select>

  <hr>

  <label>Produto:</label>
  <select [(ngModel)]="produtoSelecionado" name="produto">
    <option *ngFor="let p of produtos" [ngValue]="p">{{ p.proNome }}</option>
  </select>

  <label>Quantidade:</label>
  <input type="number" [(ngModel)]="quantidade" name="quantidade" min="1">

  <button type="button" (click)="adicionarProduto()">Adicionar</button>

  <ul>
    <li *ngFor="let c of venda.compras; let i = index">
      {{ c.produto.proNome }} - {{ c.quantidade }} x {{ c.precoUnitario | currency:'BRL' }}
      <button type="button" (click)="removerCompra(i)">Remover</button>
    </li>
  </ul>

  <h4>Total: {{ venda.total | currency:'BRL' }}</h4>

  <button type="submit">Finalizar Venda</button>
</form>
